<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å‰ç«¯æ¨¡å—åŒ…ç®¡ç† | å‰ç«¯å‘¨åˆŠ</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/blog/favicon.ico">
    <meta name="description" content="å‰ç«¯æ¨¡å—åŒ…ç®¡ç†">
    <meta name="keywords" content="å‰ç«¯,npm,lerna">
    
    <link rel="preload" href="/blog/assets/css/0.styles.bc4e2984.css" as="style"><link rel="preload" href="/blog/assets/js/app.d3fa5209.js" as="script"><link rel="preload" href="/blog/assets/js/6.d4095322.js" as="script"><link rel="preload" href="/blog/assets/js/4.64cbf7a8.js" as="script"><link rel="preload" href="/blog/assets/js/28.a5fc788a.js" as="script"><link rel="preload" href="/blog/assets/js/10.ce23e8e8.js" as="script"><link rel="preload" href="/blog/assets/js/11.7cde289b.js" as="script"><link rel="preload" href="/blog/assets/js/30.967a757e.js" as="script"><link rel="preload" href="/blog/assets/js/25.3294d02e.js" as="script"><link rel="preload" href="/blog/assets/js/13.4b26077c.js" as="script"><link rel="preload" href="/blog/assets/js/21.65ff6ff5.js" as="script"><link rel="preload" href="/blog/assets/js/31.6775aed3.js" as="script"><link rel="preload" href="/blog/assets/js/23.c6a37407.js" as="script"><link rel="preload" href="/blog/assets/js/15.b4502122.js" as="script"><link rel="preload" href="/blog/assets/js/5.865b38fd.js" as="script"><link rel="preload" href="/blog/assets/js/48.58fd26b9.js" as="script"><link rel="preload" href="/blog/assets/js/24.193852d3.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.d622105c.js"><link rel="prefetch" href="/blog/assets/js/12.6ca6e9f4.js"><link rel="prefetch" href="/blog/assets/js/14.10c8486f.js"><link rel="prefetch" href="/blog/assets/js/16.3866ee9b.js"><link rel="prefetch" href="/blog/assets/js/17.bbe78093.js"><link rel="prefetch" href="/blog/assets/js/18.9907e1f2.js"><link rel="prefetch" href="/blog/assets/js/19.783d5ba6.js"><link rel="prefetch" href="/blog/assets/js/20.3c937b8a.js"><link rel="prefetch" href="/blog/assets/js/22.50ce623e.js"><link rel="prefetch" href="/blog/assets/js/26.eddcc531.js"><link rel="prefetch" href="/blog/assets/js/27.3b8e77fb.js"><link rel="prefetch" href="/blog/assets/js/29.da8cd36f.js"><link rel="prefetch" href="/blog/assets/js/32.9bb40d9c.js"><link rel="prefetch" href="/blog/assets/js/33.1036ba5f.js"><link rel="prefetch" href="/blog/assets/js/34.5612442f.js"><link rel="prefetch" href="/blog/assets/js/35.cc055681.js"><link rel="prefetch" href="/blog/assets/js/36.cabad0ff.js"><link rel="prefetch" href="/blog/assets/js/37.c4424565.js"><link rel="prefetch" href="/blog/assets/js/38.c8fa029c.js"><link rel="prefetch" href="/blog/assets/js/39.19fc3d4a.js"><link rel="prefetch" href="/blog/assets/js/40.f021c568.js"><link rel="prefetch" href="/blog/assets/js/41.793f7f4e.js"><link rel="prefetch" href="/blog/assets/js/42.6f27a5bc.js"><link rel="prefetch" href="/blog/assets/js/43.e8c112b8.js"><link rel="prefetch" href="/blog/assets/js/44.bd1a3840.js"><link rel="prefetch" href="/blog/assets/js/45.a764f837.js"><link rel="prefetch" href="/blog/assets/js/46.9fbc0d8e.js"><link rel="prefetch" href="/blog/assets/js/47.96a9c9e7.js"><link rel="prefetch" href="/blog/assets/js/49.53cd3ec8.js"><link rel="prefetch" href="/blog/assets/js/50.240d63b7.js"><link rel="prefetch" href="/blog/assets/js/51.e5b84ed7.js"><link rel="prefetch" href="/blog/assets/js/52.055263b3.js"><link rel="prefetch" href="/blog/assets/js/53.03cc0e10.js"><link rel="prefetch" href="/blog/assets/js/54.bf34bb71.js"><link rel="prefetch" href="/blog/assets/js/55.ef80fe04.js"><link rel="prefetch" href="/blog/assets/js/56.b8269e5b.js"><link rel="prefetch" href="/blog/assets/js/57.903564fd.js"><link rel="prefetch" href="/blog/assets/js/7.57b0655a.js"><link rel="prefetch" href="/blog/assets/js/8.90da5599.js"><link rel="prefetch" href="/blog/assets/js/9.b5a43ae9.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.21b2360e.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.bc4e2984.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="track-theme"><header class="theme-track--header"><div class="theme-track--navbar"><div class="theme-track--brand"><a href="/blog/" class="theme-track--logo router-link-active"><img src="/blog/images/logo.png"></a></div> <nav class="theme-track--nav-links"><ul><li><a href="/blog/" class="router-link-active">é¦–é¡µ</a></li><li><a href="/blog/post/" class="router-link-active active">åšå®¢</a></li><li><a href="/blog/weekly/">å‘¨åˆŠ</a></li><li><a href="/blog/tag/">æ ‡ç­¾</a></li><li><a href="/blog/about.html">å…³äºæˆ‘ä»¬</a></li><li><a href="/blog/track.html">Track</a></li></ul> <div class="nav-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="theme-track--nav-mask" style="display:none;"></div></nav> <div class="theme-track--header-github"><a href="//github.com/kuaizi-co" target="_blank"><i class="iconfont icon-github"></i></a></div> <div class="theme-track--header-search"><div class="search-box"><i class="iconfont icon-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value="" class="search-text"></div> <ul class="search-suggestion" style="display:none;"></ul> <button class="search-btn"><i class="iconfont icon-search"></i></button></div></div></header> <div class="track-them--container"><div class="theme-track--content-wrapper"><img src="/blog/images/v2-a249c1ec19957248e6187692d0db7047_r.jpg" class="theme-track--content-poster"> <div class="theme-track--content"><div class="sidebar-wrapper"><div><div class="sidebar"> <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>å‰ç«¯æ¨¡å—åŒ…ç®¡ç†</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/blog/post/node-package-manager.html#npm" class="sidebar-link">npm</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#npm-init-åˆå§‹åŒ–" class="sidebar-link">npm init åˆå§‹åŒ–</a></li><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#npm-version" class="sidebar-link">npm version</a></li><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#npm-dist-tag-å‘å¸ƒç‰ˆæœ¬æ ‡ç­¾" class="sidebar-link">npm dist-tag å‘å¸ƒç‰ˆæœ¬æ ‡ç­¾</a></li><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#npm-publish-å‘å¸ƒæ¨¡å—" class="sidebar-link">npm publish å‘å¸ƒæ¨¡å—</a></li></ul></li><li><a href="/blog/post/node-package-manager.html#npm-unpublish-æ’¤é”€å·²å‘å¸ƒæ¨¡å—æˆ–ç‰ˆæœ¬" class="sidebar-link">npm unpublish æ’¤é”€å·²å‘å¸ƒæ¨¡å—æˆ–ç‰ˆæœ¬</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/post/node-package-manager.html#npm-publish-scoped-packages" class="sidebar-link">npm publish scoped packages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#yarn-link-vs-npm-link-è°ƒè¯•åŒ…" class="sidebar-link">yarn link vs npm link è°ƒè¯•åŒ…</a></li></ul></li><li><a href="/blog/post/node-package-manager.html#lerna-å¤šæ¨¡å—ç®¡ç†" class="sidebar-link">lerna å¤šæ¨¡å—ç®¡ç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#åˆå§‹åŒ–demo" class="sidebar-link">åˆå§‹åŒ–demo</a></li><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#add-module" class="sidebar-link">add module</a></li><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#lerna-version" class="sidebar-link">lerna version</a></li><li class="sidebar-sub-header"><a href="/blog/post/node-package-manager.html#lerna-publish" class="sidebar-link">lerna publish</a></li></ul></li></ul></div></li></ul> </div></div></div> <div class="theme-track--content-main"><p class="theme-track--content-date"><span>Publish: 2019-05-13 14:00:00</span> <span>
            Tags:
            <a href="/blog/tags/å‰ç«¯" class="tag">
              å‰ç«¯
            </a></span></p> <div class="theme-track--content-meta"><h1>å‰ç«¯æ¨¡å—åŒ…ç®¡ç†</h1> <div class="theme-track--github-card"><span><img src="https://github.com/tomieric.png?size=100"></span> <p class="theme-track--content-meta-author"><i class="iconfont icon-home"></i> tomieric</p> <!----></div> <!----></div> <div class="content__default"><h2 id="npm"><a href="#npm" class="header-anchor">#</a> npm</h2> <ul><li>npm init</li> <li>npm version</li> <li>npm dist-tag</li> <li>npm publish</li> <li>npm unpublish</li> <li>npm publish scoped packages</li></ul> <h3 id="npm-init-åˆå§‹åŒ–"><a href="#npm-init-åˆå§‹åŒ–" class="header-anchor">#</a> npm init åˆå§‹åŒ–</h3> <div class="language- extra-class"><pre class="language-text"><code>&gt; mkdir mypack &amp;&amp; cd mypack
&gt; npm init -y
</code></pre></div><p>åˆå§‹åŒ–åŒ…æ¨¡å—ï¼Œç”Ÿæˆ <code>package.json</code> é…ç½®æ–‡ä»¶</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mypack&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="package-json-å­—æ®µ"><a href="#package-json-å­—æ®µ" class="header-anchor">#</a> package.json å­—æ®µ</h4> <ul><li>name æ¨¡å—åç§°</li> <li>version ç‰ˆæœ¬å·</li> <li>description æ¨¡å—æè¿°</li> <li>main æ¨¡å—å…¥å£ï¼Œå¯ä»¥è¢«å…¶ä»–æ¨¡å—æ‰€å¼•ç”¨ï¼Œæ¯”å¦‚ <code>var mypack = require('mypack'')</code></li> <li>keyswords æ¨¡å—æœç´ å…³é”®å­—</li> <li>author ä½œè€…</li> <li>license ç‰ˆæƒåè®®</li> <li>bugs bugæäº¤åœ°å€</li> <li>homepage æ¨¡å—ä¸»é¡µ</li> <li>repository ä»“åº“åœ°å€</li> <li>scripts æ¨¡å—è„šæœ¬å‘½ä»¤</li> <li>files æ¨¡å—æŒ‡å®šåŒ…å«æ–‡ä»¶</li> <li>devDependencies å¼€å‘ç¯å¢ƒä¾èµ–æ¨¡å—</li> <li>dependencies æ¨¡å—ä¾èµ–æ¨¡å—ï¼Œåœ¨æ¨¡å—å®‰è£…æ—¶åŒæ—¶å®‰è£…</li> <li>peerDependencies æ¨¡å—å®‰è£…æ—¶åŒæ—¶å®‰è£…ï¼Œä½†ç‰ˆæœ¬ä»¥å¤–éƒ¨ç‰ˆæœ¬ä¸ºä¸»</li></ul> <h3 id="npm-version"><a href="#npm-version" class="header-anchor">#</a> npm version</h3> <p>éµå¾ª <code>è¯­ä¹‰åŒ–ç‰ˆæœ¬</code> <a href="https://semver.org/lang/zh-CN/" target="_blank" rel="noopener noreferrer">semver version<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>ä¸»ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†ä¸å…¼å®¹çš„ API ä¿®æ”¹ï¼Œ</li> <li>æ¬¡ç‰ˆæœ¬å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢ï¼Œ</li> <li>ä¿®è®¢å·ï¼šå½“ä½ åšäº†å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£ã€‚</li></ul> <div class="language- extra-class"><pre class="language-text"><code>&gt; npm version [new version | major | minor | patch | premajor | preminor | prepatch ] -m &quot;message&quot;
</code></pre></div><p>ä½¿ç”¨å‘½ä»¤ä¿®æ”¹ç‰ˆæœ¬ï¼Œå¥½å¤„æ˜¯è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªGit tag [<code>git-tag-version</code>] æäº¤</p> <div class="language- extra-class"><pre class="language-text"><code>npm version 1.1.0
&gt; v1.1.0
npm version prepatch
&gt; v1.1.1-0
npm version prepatch
v1.1.2-0
npm version patch
&gt; v1.1.2
npm version preminor
&gt; v1.2.0-0
npm version minor
&gt; v1.2.0
npm version premajor
&gt; v2.0.0-0
npm version major
&gt; v2.0.0
</code></pre></div><h4 id="ç‰ˆæœ¬ç®¡ç†å·¥å…·-release-it"><a href="#ç‰ˆæœ¬ç®¡ç†å·¥å…·-release-it" class="header-anchor">#</a> ç‰ˆæœ¬ç®¡ç†å·¥å…· release-it</h4> <p><a href="https://github.com/Kuaizi-co/vue-cli-plugin-auto-router/blob/dev/package.json#L13" target="_blank" rel="noopener noreferrer">demo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- extra-class"><pre class="language-text"><code>Î» npm run release

&gt; mypack@2.0.0 release D:\project\test\mypack
&gt; release-it

WARNING Latest version in registry (1.0.0) does not match package.json (2.0.0).

ğŸš€ Let's release mypack (currently at 2.0.0)


Empty changelog

? Select increment (next version): (Use arrow keys)
&gt; patch (2.0.1)
  minor (2.1.0)
  major (3.0.0)
  prepatch (2.0.1-0)
  preminor (2.1.0-0)
  premajor (3.0.0-0)
  Other, please specify...
</code></pre></div><h3 id="npm-dist-tag-å‘å¸ƒç‰ˆæœ¬æ ‡ç­¾"><a href="#npm-dist-tag-å‘å¸ƒç‰ˆæœ¬æ ‡ç­¾" class="header-anchor">#</a> npm dist-tag å‘å¸ƒç‰ˆæœ¬æ ‡ç­¾</h3> <p>æ·»åŠ ï¼Œåˆ é™¤æˆ–æŸ¥çœ‹æ¨¡å—æŸç‰ˆæœ¬</p> <div class="language- extra-class"><pre class="language-text"><code>npm dist-tag add &lt;pkg&gt;@&lt;version&gt; [&lt;tag&gt;]
npm dist-tag rm &lt;pkg&gt; &lt;tag&gt;
npm dist-tag ls [&lt;pkg&gt;]
</code></pre></div><p>æ¯”å¦‚ï¼ŒæŸ¥çœ‹<code>@kuaizi/kz-ui</code></p> <div class="language- extra-class"><pre class="language-text"><code>npm dist-tag ls @kuaizi/kz-ui
alpha: 2.0.0-alpha
beta: 2.9.0-beta
latest: 2.9.2
next: 2.0.0-alpha.26
</code></pre></div><p>å®‰è£…æŸä¸ªæ ‡ç­¾çš„æœ€æ–°ç‰ˆæœ¬</p> <div class="language- extra-class"><pre class="language-text"><code>yarn add @kuaizi/kz-ui@beta
</code></pre></div><p>å®‰è£…æˆåŠŸåï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹ <code>package.json</code></p> <div class="language- extra-class"><pre class="language-text"><code>{
 &quot;dependencies&quot;: {
    &quot;@kuaizi/kz-ui&quot;: &quot;^2.9.0-beta&quot;
  }
}
</code></pre></div><h3 id="npm-publish-å‘å¸ƒæ¨¡å—"><a href="#npm-publish-å‘å¸ƒæ¨¡å—" class="header-anchor">#</a> npm publish å‘å¸ƒæ¨¡å—</h3> <div class="language- extra-class"><pre class="language-text"><code>npm publish &lt;folder&gt; --tag &lt;tag&gt;
</code></pre></div><p>å°è¯•å‘å¸ƒå½“å‰åŒ…</p> <div class="language- extra-class"><pre class="language-text"><code>Î» npm publish --tag alpha
npm notice
npm notice package: mypack@2.0.0
npm notice === Tarball Contents ===
npm notice 485B    package.json
npm notice 122.6kB yarn.lock
npm notice === Tarball Details ===
npm notice name:          mypack
npm notice version:       2.0.0
npm notice package size:  40.9 kB
npm notice unpacked size: 123.1 kB
npm notice shasum:        94f14bf06a06e92bdb0c3ab4f4a57f5933ab0cbd
npm notice integrity:     sha512-9wje0sV67oxW7[...]Nf5kVxm77gjSQ==
npm notice total files:   2
npm notice
npm ERR! code E403
npm ERR! 403 Forbidden - PUT https://registry.npmjs.org/mypack - You do not have permission to publish &quot;mypack&quot;. Are you logged in as the correct user?

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\wuhaiyang\AppData\Roaming\npm-cache\_logs\2019-05-13T06_21_55_910Z-debug.log
</code></pre></div><p>æç¤ºæ²¡æœ‰æƒé™æ“ä½œ<code>mypack</code>æ¨¡å—ï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ <code>package.json</code>ï¼Œä¿®æ”¹ <code>name</code> ä¸º <code>mypack-test-by-tomieric</code>å†æ¬¡å‘å¸ƒã€‚</p> <div class="language- extra-class"><pre class="language-text"><code>Î» npm publish --tag alpha
npm notice
npm notice package: mypack-test-by-tomieric@2.0.0
npm notice === Tarball Contents ===
npm notice 531B    package.json
npm notice 122.6kB yarn.lock
npm notice === Tarball Details ===
npm notice name:          mypack-test-by-tomieric
npm notice version:       2.0.0
npm notice package size:  40.9 kB
npm notice unpacked size: 123.2 kB
npm notice shasum:        419b2fd5254c45931dd34f7cfa581327e3b475d4
npm notice integrity:     sha512-wmvrAndGVIcBc[...]4aMKGmJ51rURg==
npm notice total files:   2
npm notice
+ mypack-test-by-tomieric@2.0.0
</code></pre></div><p>æ‰“å¼€<a href="//npmjs.com">//npmjs.com</a>,è¿›å…¥è‡ªå·±çš„åŒ…åˆ—è¡¨, <a href="https://www.npmjs.com/package/mypack-test-by-tomieric" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/mypack-test-by-tomieric<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="npm-unpublish-æ’¤é”€å·²å‘å¸ƒæ¨¡å—æˆ–ç‰ˆæœ¬"><a href="#npm-unpublish-æ’¤é”€å·²å‘å¸ƒæ¨¡å—æˆ–ç‰ˆæœ¬" class="header-anchor">#</a> npm unpublish æ’¤é”€å·²å‘å¸ƒæ¨¡å—æˆ–ç‰ˆæœ¬</h2> <div class="language- extra-class"><pre class="language-text"><code>npm version patch
v2.0.1

 npm publish
npm notice
npm notice package: mypack-test-by-tomieric@2.0.1
npm notice === Tarball Contents ===
npm notice 531B    package.json
npm notice 122.6kB yarn.lock
npm notice === Tarball Details ===
npm notice name:          mypack-test-by-tomieric
npm notice version:       2.0.1
npm notice package size:  40.9 kB
npm notice unpacked size: 123.2 kB
npm notice shasum:        8024ad91f77ab50477db603c33de9c58c8eff542
npm notice integrity:     sha512-mc8HPQGiCQtc6[...]wfaUvNcs+6Jxw==
npm notice total files:   2
npm notice
+ mypack-test-by-tomieric@2.0.1

npm unpublish mypack-test-by-tomieric@2.0.1
-mypack-test-by-tomieric@2.0.1
</code></pre></div><h2 id="npm-publish-scoped-packages"><a href="#npm-publish-scoped-packages" class="header-anchor">#</a> npm publish scoped packages</h2> <p>åœ¨ä¸Šé¢å‘å¸ƒçš„æµ‹è¯•æ¨¡å—ï¼Œæˆ‘ä»¬è§‰å¾—æ¨¡å—å« <code>mypack</code> èƒ½æ›´å¥½åŒºåˆ†å’Œè®°ä½ï¼Œé‚£åº”è¯¥å¦‚ä½•å»åšï¼Ÿ</p> <p>npm æ¨¡å—æ˜¯æ”¯æŒå¢åŠ ç±»ä¼¼å‘½åç©ºé—´çš„ <code>scoped</code>åŸŸï¼Œé€šè¿‡åœ¨æ¨¡å—åç§°å‰é¢åŠ ä¸Š <code>@scoped/</code>ï¼Œæ¯”å¦‚ <code>@vue/cli</code>, <code>@babel/core-js</code>ç­‰</p> <div class="language-js extra-class"><pre class="language-js"><code># <span class="token keyword">package</span><span class="token punctuation">.</span>json

<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@tomieric/mypack&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;release&quot;</span><span class="token operator">:</span> <span class="token string">&quot;release-it&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tomieric &lt;tomieric@gmail.com&gt;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@release-it/conventional-changelog&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;conventional-changelog-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.21&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;release-it&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^12.0.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@kuaizi/kz-ui&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.9.0-beta&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p>å®šä¹‰äº†åŸŸçš„æ¨¡å—å…·æœ‰ä¸€å®šçš„æƒé™é™å®šï¼Œéœ€è¦é€šè¿‡å£°æ˜ä¸ºå…¬å¼€æ¨¡å—</p> <div class="language- extra-class"><pre class="language-text"><code>npm publish --access=publish
</code></pre></div><p>æˆ–è€…ä¿®æ”¹ <code>package.json</code>, å¢åŠ  <code>publishConfig</code> å­—æ®µ</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@tomieric/mypack&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.1&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;release&quot;</span><span class="token operator">:</span> <span class="token string">&quot;release-it&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;keywords&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tomieric &lt;tomieric@gmail.com&gt;&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@release-it/conventional-changelog&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^1.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;conventional-changelog-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.21&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;husky&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;release-it&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^12.0.1&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@kuaizi/kz-ui&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.9.0-beta&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;publishConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;access&quot;</span><span class="token operator">:</span> <span class="token string">&quot;public&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="https://www.npmjs.com/package/@tomieric/mypack" target="_blank" rel="noopener noreferrer">https://www.npmjs.com/package/@tomieric/mypack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="yarn-link-vs-npm-link-è°ƒè¯•åŒ…"><a href="#yarn-link-vs-npm-link-è°ƒè¯•åŒ…" class="header-anchor">#</a> <code>yarn link</code> vs <code>npm link</code> è°ƒè¯•åŒ…</h3> <p>æ¨è <code>yarn link</code>, é€Ÿåº¦æ›´å¿«ï¼Œä½†éœ€è¦æ³¨æ„ä½¿ç”¨ <code>yarn unlink mypack</code> åˆ æ‰è½¯é“¾</p> <h2 id="lerna-å¤šæ¨¡å—ç®¡ç†"><a href="#lerna-å¤šæ¨¡å—ç®¡ç†" class="header-anchor">#</a> lerna å¤šæ¨¡å—ç®¡ç†</h2> <ul><li><a href="https://zhuanlan.zhihu.com/p/35237759" target="_blank" rel="noopener noreferrer">ä½¿ç”¨lernaä¼˜é›…åœ°ç®¡ç†å¤šä¸ªpackage<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>å¤šæ¨¡å—å¼€å‘ï¼Œä¸”å¤šæ¨¡å—ä¹‹é—´ç›¸äº’ä¾èµ–æ—¶ï¼Œå¦‚ä½•ä¼˜é›…ç®¡ç†æ¨¡å—çš„å‘ç‰ˆã€‚<code>lerna</code> æ˜¯å®ç° <code>monorepo</code> å·¥ä½œæµçš„ä¸€ä¸ªå·¥å…·ã€‚</p> <h3 id="åˆå§‹åŒ–demo"><a href="#åˆå§‹åŒ–demo" class="header-anchor">#</a> åˆå§‹åŒ–demo</h3> <div class="language- extra-class"><pre class="language-text"><code>mkdir lerna &amp;&amp; cd lerna &amp;&amp; npx lerna init
mkdir packages &amp;&amp; cd packages
mkdir animal &amp;&amp; cd animal &amp;&amp; npm init -y
cd ..
mkdir dog &amp;&amp; cd dog &amp;&amp; npm init -y
cd ../..
</code></pre></div><h3 id="add-module"><a href="#add-module" class="header-anchor">#</a> add module</h3> <div class="language- extra-class"><pre class="language-text"><code>npx lerna add assert --scope=animal
npx lerna add animal --scope=dog
</code></pre></div><h3 id="lerna-version"><a href="#lerna-version" class="header-anchor">#</a> lerna version</h3> <div class="language- extra-class"><pre class="language-text"><code>lerna version 1.1.0
</code></pre></div><h3 id="lerna-publish"><a href="#lerna-publish" class="header-anchor">#</a> lerna publish</h3> <div class="language- extra-class"><pre class="language-text"><code>lerna publish
</code></pre></div><p>æ¡ˆä¾‹ï¼š</p> <ul><li><a href="https://github.com/Kuaizi-co/cep" target="_blank" rel="noopener noreferrer">cep<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://github.com/Kuaizi-co/i18n" target="_blank" rel="noopener noreferrer">@kuaizi/i18n<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <p class="theme-track--content-page"><a href="/blog/post/adobe-cep-get-started.html" class="prev"><i class="iconfont icon-prev"></i>
            Adobe-CEP æ’ä»¶å¼€å‘
          </a> <a href="/blog/post/developer-roadmap.html" class="next">
            å‰ç«¯çš„å¼€å‘ä¹‹è·¯æŒ‡å— developer-roadmap
            <i class="iconfont icon-next"></i></a></p> <div id="comment-container"></div></div></div></div></div> <div class="theme-track--footer"><p>MIT Licensed | Copyright Â© 2018-present <a href="//www.kuaizi.ai" target="_blank">www.kuaizi.ai</a>, <a href="https://kuaizi-co.github.io/blog/rss.xml" target="_blank">è®¢é˜…å‘¨åˆŠ</a></p> <p>
  Powered by vuepress theme <a href="//github.com/tomieric/vuepress-theme-track" target="_blank">Track</a>.
  Inspired by <a href="//github.com/Yubisaki/vuepress-theme-yubisaki" target="_blank">yubisaki</a></p></div></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.d3fa5209.js" defer></script><script src="/blog/assets/js/6.d4095322.js" defer></script><script src="/blog/assets/js/4.64cbf7a8.js" defer></script><script src="/blog/assets/js/28.a5fc788a.js" defer></script><script src="/blog/assets/js/10.ce23e8e8.js" defer></script><script src="/blog/assets/js/11.7cde289b.js" defer></script><script src="/blog/assets/js/30.967a757e.js" defer></script><script src="/blog/assets/js/25.3294d02e.js" defer></script><script src="/blog/assets/js/13.4b26077c.js" defer></script><script src="/blog/assets/js/21.65ff6ff5.js" defer></script><script src="/blog/assets/js/31.6775aed3.js" defer></script><script src="/blog/assets/js/23.c6a37407.js" defer></script><script src="/blog/assets/js/15.b4502122.js" defer></script><script src="/blog/assets/js/5.865b38fd.js" defer></script><script src="/blog/assets/js/48.58fd26b9.js" defer></script><script src="/blog/assets/js/24.193852d3.js" defer></script>
  </body>
</html>
